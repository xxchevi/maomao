import{_ as f}from"./CagzVXW1.js";import{p as h,u as v,E as w,c as n,o as x,a as e,e as g,b as o,w as a,f as r,t as c,d as u,F as k,r as S,j as C,T as L,G as N}from"./C_JLxRH9.js";const j={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"},G={class:"bg-white shadow-lg border-b border-gray-200"},V={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},B={class:"flex justify-between h-16"},I={class:"flex items-center"},T={key:0,class:"flex items-center space-x-4"},z={key:0,class:"flex items-center space-x-2 text-sm"},A={class:"text-gray-600"},D={class:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs"},E={class:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs"},F={class:"hidden md:flex items-center space-x-4"},$={key:1,class:"flex items-center space-x-4"},M={class:"fixed top-20 right-4 z-50 space-y-2"},q={class:"flex justify-between items-start"},H={class:"text-sm"},J=["onClick"],K={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},O={key:0,class:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200"},P={class:"flex justify-around py-2"},X={__name:"default",setup(Q){const s=h(),i=v(),y=async()=>{i.disconnectSocket(),await s.logout()};return w(async()=>{await s.checkAuth(),s.isLoggedIn&&(i.initSocket(),await i.loadGameData())}),(b,t)=>{var m,_,p;const l=f;return x(),n("div",j,[e("nav",G,[e("div",V,[e("div",B,[e("div",I,[o(l,{to:"/",class:"flex items-center space-x-2"},{default:a(()=>t[0]||(t[0]=[e("div",{class:"text-2xl"},"🐱",-1),e("span",{class:"text-xl font-bold text-gray-800"},"猫猫挂机",-1)])),_:1,__:[0]})]),r(s).isLoggedIn?(x(),n("div",T,[r(s).character?(x(),n("div",z,[e("span",A,c((m=r(s).character)==null?void 0:m.name),1),e("span",D," Lv."+c((_=r(s).character)==null?void 0:_.level),1),e("span",E," 💰 "+c((p=r(s).character)==null?void 0:p.coins),1)])):g("",!0),e("div",F,[o(l,{to:"/game",class:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium"},{default:a(()=>t[1]||(t[1]=[u(" 游戏 ",-1)])),_:1,__:[1]}),o(l,{to:"/inventory",class:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium"},{default:a(()=>t[2]||(t[2]=[u(" 仓库 ",-1)])),_:1,__:[2]})]),e("button",{onClick:y,class:"text-gray-700 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium"}," 退出 ")])):(x(),n("div",$,[o(l,{to:"/login",class:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium"},{default:a(()=>t[3]||(t[3]=[u(" 登录 ",-1)])),_:1,__:[3]}),o(l,{to:"/register",class:"btn-primary"},{default:a(()=>t[4]||(t[4]=[u(" 注册 ",-1)])),_:1,__:[4]})]))])])]),e("div",M,[o(L,{name:"slide-up"},{default:a(()=>[(x(!0),n(k,null,S(r(i).notifications,d=>(x(),n("div",{key:d.id,class:C(["p-4 rounded-lg shadow-lg max-w-sm",{"bg-green-100 border border-green-400 text-green-700":d.type==="success","bg-red-100 border border-red-400 text-red-700":d.type==="error","bg-yellow-100 border border-yellow-400 text-yellow-700":d.type==="warning","bg-blue-100 border border-blue-400 text-blue-700":d.type==="info"}])},[e("div",q,[e("p",H,c(d.message),1),e("button",{onClick:R=>r(i).removeNotification(d.id),class:"ml-2 text-gray-400 hover:text-gray-600"}," ✕ ",8,J)])],2))),128))]),_:1})]),e("main",K,[N(b.$slots,"default")]),r(s).isLoggedIn?(x(),n("nav",O,[e("div",P,[o(l,{to:"/game",class:"flex flex-col items-center p-2 text-gray-600 hover:text-blue-600"},{default:a(()=>t[5]||(t[5]=[e("div",{class:"text-xl"},"⚒️",-1),e("span",{class:"text-xs"},"游戏",-1)])),_:1,__:[5]}),o(l,{to:"/inventory",class:"flex flex-col items-center p-2 text-gray-600 hover:text-blue-600"},{default:a(()=>t[6]||(t[6]=[e("div",{class:"text-xl"},"🎒",-1),e("span",{class:"text-xs"},"仓库",-1)])),_:1,__:[6]})])])):g("",!0)])}}};export{X as default};
