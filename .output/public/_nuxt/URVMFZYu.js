import{_ as h}from"./CagzVXW1.js";import{p as S,u as V,q as C,y as N,g as x,c as i,a as t,d,b as z,w as B,m as q,e as b,k as y,v as g,f as s,t as v,s as w,o as u}from"./C_JLxRH9.js";import{u as A}from"./8g37b03D.js";const D={class:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},L={class:"max-w-md w-full space-y-8"},M={class:"mt-2 text-center text-sm text-gray-600"},T={class:"space-y-4"},j={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},G=["disabled"],H={key:0,class:"mr-2"},J={__name:"login",async setup(U){let m,c;const p=S(),f=V();p.isLoggedIn&&([m,c]=C(()=>w("/game")),await m,c());const o=N({username:"",password:""}),r=x(!1),a=x(""),_=async()=>{if(!r.value){r.value=!0,a.value="";try{const l=await p.login(o.username,o.password);l.success?(f.initSocket(),await f.loadGameData(),await w("/game")):a.value=l.error||"ÁôªÂΩïÂ§±Ë¥•"}catch(l){a.value=l.message||"ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï"}finally{r.value=!1}}};return A({title:"ÁôªÂΩï - Áå´Áå´ÊåÇÊú∫Ê∏∏Êàè"}),(l,e)=>{const k=h;return u(),i("div",D,[t("div",L,[t("div",null,[e[4]||(e[4]=t("div",{class:"text-center text-4xl mb-4"},"üê±",-1)),e[5]||(e[5]=t("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," ÁôªÂΩïË¥¶Âè∑ ",-1)),t("p",M,[e[3]||(e[3]=d(" ËøòÊ≤°ÊúâË¥¶Âè∑Ôºü ",-1)),z(k,{to:"/register",class:"font-medium text-blue-600 hover:text-blue-500"},{default:B(()=>e[2]||(e[2]=[d(" Á´ãÂç≥Ê≥®ÂÜå ",-1)])),_:1,__:[2]})])]),t("form",{class:"mt-8 space-y-6",onSubmit:q(_,["prevent"])},[t("div",T,[t("div",null,[e[6]||(e[6]=t("label",{for:"username",class:"block text-sm font-medium text-gray-700"}," Áî®Êà∑Âêç ",-1)),y(t("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=n=>s(o).username=n),type:"text",required:"",class:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"},null,512),[[g,s(o).username]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," ÂØÜÁ†Å ",-1)),y(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>s(o).password=n),type:"password",required:"",class:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"},null,512),[[g,s(o).password]])])]),s(a)?(u(),i("div",j,v(s(a)),1)):b("",!0),t("div",null,[t("button",{type:"submit",disabled:s(r),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[s(r)?(u(),i("span",H,e[8]||(e[8]=[t("svg",{class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):b("",!0),d(" "+v(s(r)?"ÁôªÂΩï‰∏≠...":"ÁôªÂΩï"),1)],8,G)])],32)])])}}};export{J as default};
